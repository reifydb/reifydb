[package]
name = "reifydb"
version = "0.0.1"
edition = "2021"
authors = ["Dominique Chuo <dominique@reifydb.com>"]
license = "AGPL-3"
repository = "https://github.com/reifydb/reifydb"

[dependencies]
reifydb-auth = { path = "../../../db/crates/auth" }
reifydb-catalog = { path = "../../../db/crates/catalog" }
reifydb-cdc = { path = "../../../db/crates/cdc" }
reifydb-core = { path = "../../../db/crates/core" }
reifydb-engine = { path = "../../../db/crates/engine" }
reifydb-network = { path = "../../../db/crates/network" }
reifydb-storage = { path = "../../../db/crates/storage" }
reifydb-rql = { path = "../../../db/crates/rql" }
reifydb-transaction = { path = "../../../db/crates/transaction" }
reifydb-type = { path = "../../../db/crates/type" }

reifydb-sub-admin = { path = "../../../db/crates/sub-admin", optional = true }
reifydb-sub-flow = { path = "../../../db/crates/sub-flow", optional = true }
reifydb-sub-logging = { path = "../../../db/crates/sub-logging", optional = true }
reifydb-sub-workerpool = { path = "../../../db/crates/sub-workerpool", optional = true }
reifydb-sub-server = { path = "../../../db/crates/sub-server", optional = true }

libc = { version = "0.2.175" }

[features]
default = []

# Subsystem features
sub_admin = ["dep:reifydb-sub-admin"]
sub_flow = ["dep:reifydb-sub-flow"]
sub_logging = ["dep:reifydb-sub-logging"]
sub_server = ["dep:reifydb-sub-server"]
sub_workerpool = ["dep:reifydb-sub-workerpool"]


[profile.dev]
opt-level = 0
debug = true
debug-assertions = true
overflow-checks = true
incremental = true
lto = false
codegen-units = 256
panic = "unwind"

[profile.test]
opt-level = 0
debug = true
lto = false
codegen-units = 256
incremental = true
debug-assertions = true
overflow-checks = true
