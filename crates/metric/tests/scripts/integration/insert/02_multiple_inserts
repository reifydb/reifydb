# Copyright (c) reifydb.com 2025
# This file is licensed under the AGPL-3.0-or-later, see license.md file

# Tests that multiple inserts are tracked correctly.
# Each insert should add to current_count and byte totals.

# Initial stats should be zero
stats
---
current_count: 0
current_key_bytes: 0
current_value_bytes: 0
historical_count: 0
historical_key_bytes: 0
historical_value_bytes: 0
cdc_count: 0
cdc_key_bytes: 0
cdc_value_bytes: 0
total_bytes: 0

# Insert first key: "a" = 1 byte key, versioned = 9 bytes (1 + 8), value "1" = 1 byte
set a=1
---
ok

stats_current
---
current_count: 1
current_key_bytes: 11
current_value_bytes: 1

# Insert second key: "b" = 1 byte key, versioned = 9 bytes (1 + 8), value "2" = 1 byte
set b=2
---
ok

stats_current
---
current_count: 2
current_key_bytes: 22
current_value_bytes: 2

# Insert third key: "c" = 1 byte key, versioned = 9 bytes (1 + 8), value "3" = 1 byte
set c=3
---
ok

stats_current
---
current_count: 3
current_key_bytes: 33
current_value_bytes: 3

# Historical should still be zero (no updates, just inserts)
stats_historical
---
historical_count: 0
historical_key_bytes: 0
historical_value_bytes: 0
