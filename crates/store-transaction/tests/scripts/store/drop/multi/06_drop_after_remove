# Copyright (c) reifydb.com 2025
# This file is licensed under the AGPL-3.0-or-later, see license.md file

# Tests drop after a key has been removed (tombstone).

set a=1 version=1
remove a version=2
---
ok

# Verify: v1 exists, v2 sees tombstone (None)
get a version=1
get a version=2
---
"a" => "1"
"a" => None

# Drop should clean up including tombstone
drop a
---
ok

# All versions should be gone
get a version=1
get a version=2
get a version=3
---
"a" => None
"a" => None
"a" => None
