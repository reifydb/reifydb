# Copyright (c) reifydb.com 2025
# This file is licensed under the AGPL-3.0-or-later, see license.md file

# Tests when all versions are above the threshold (no-op).

set a=10 version=10
set a=20 version=20
set a=30 version=30
---
ok

count_versions a
---
"a" => 3 versions

# All versions are >= 5, so none should be dropped
drop a up_to_version=5
---
ok

# All still exist
count_versions a
---
"a" => 3 versions

contains a version=10
contains a version=20
contains a version=30
---
"a" => true
"a" => true
"a" => true

get a version=10
get a version=20
get a version=30
---
"a" => "10"
"a" => "20"
"a" => "30"
