# Copyright (c) reifydb.com 2025
# This file is licensed under the AGPL-3.0-or-later, see license.md file

# Tests boundary condition: up_to_version uses < not <=

set a=value version=10
---
ok

count_versions a
---
"a" => 1 versions

# up_to_version=10 should NOT drop version 10 (uses < not <=)
drop a up_to_version=10
---
ok

# Version 10 still exists
count_versions a
---
"a" => 1 versions

contains a version=10
---
"a" => true

get a version=10
---
"a" => "value"

# up_to_version=11 SHOULD drop version 10
drop a up_to_version=11
---
ok

# Now version 10 is gone
count_versions a
---
"a" => 0 versions

contains a version=10
---
"a" => false
