# SPDX-License-Identifier: AGPL-3.0-or-later
# Copyright (c) 2025 ReifyDB
# Test bytecode compilation - filter operation

bytecode 'from test.users | filter age > 18'
---
> ╔══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
> ║                                                   COMPILED PROGRAM                                                   ║
> ╠══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
> ║ Entry Point: 0x0000                                                                                                  ║
> ║ Bytecode Size: 9 bytes                                                                                               ║
> ║ Constants: 0 | Sources: 1 | Expressions: 0                                                                           ║
> ╚══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
>
> ╔═ SOURCES ════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
> ║ [0] "test.users"                                                                                                     ║
> ╚══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
> ╔═ COMPILED EXPRESSIONS ═══════════════════════════════════════════════════════════════════════════════════════════════╗
> ║ Filters: 1 (closures, not introspectable)                                                                            ║
> ╚══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
> ╔═ BYTECODE ═══════════════════════════════════════════════════════════════════════════════════════════════════════════╗
> ║ OFFSET     BYTES            INSTRUCTION      OPERANDS                                                                ║
> ╠══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
> ║ 0x0000     20 00 00         Source           0            → "test.users"                                             ║
> ║ 0x0003     02 00 00         PushExpr         0            → <Expr #0>                                                ║
> ║ 0x0006     22 00            Apply            Filter                                                                  ║
> ║ 0x0008     FF               Halt                                                                                     ║
> ╚══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
