# SPDX-License-Identifier: AGPL-3.0-or-later
# Copyright (c) 2025 ReifyDB

# Test variable assignment with expression
parse '$x = $x + 1'
---
> Program
> `-- [0] Expression
>     `-- Binary(Assign)
>         +-- left: Variable($x)
>         `-- right: Binary(Add)
>             +-- left: Variable($x)
>             `-- right: Integer(1)
>

# Test simple variable assignment
parse '$count = 0'
---
> Program
> `-- [0] Expression
>     `-- Binary(Assign)
>         +-- left: Variable($count)
>         `-- right: Integer(0)
>

# Test assignment with function call
parse '$total = sum($values)'
---
> Program
> `-- [0] Expression
>     `-- Binary(Assign)
>         +-- left: Variable($total)
>         `-- right: Call(sum)
>             `-- args:
>                 `-- [0] Variable($values)
>

# Test assignment with complex expression
parse '$avg = $sum / $count'
---
> Program
> `-- [0] Expression
>     `-- Binary(Assign)
>         +-- left: Variable($avg)
>         `-- right: Binary(Div)
>             +-- left: Variable($sum)
>             `-- right: Variable($count)
>

# Test assignment with string
parse '$name = "updated"'
---
> Program
> `-- [0] Expression
>     `-- Binary(Assign)
>         +-- left: Variable($name)
>         `-- right: String("pdate")
>
