# SPDX-License-Identifier: AGPL-3.0-or-later
# Copyright (c) 2025 ReifyDB

# Test function with two parameters
parse 'fn add($a, $b) { $a + $b }'
---
> Program
> `-- [0] Def(add($a, $b))
>     `-- [0] Expression
>         `-- Binary(Add)
>             +-- left: Variable($a)
>             `-- right: Variable($b)
>

# Test function with no parameters
parse 'fn hello() { "hello world" }'
---
> Program
> `-- [0] Def(hello())
>     `-- [0] Expression
>         `-- String("ello worl")
>

# Test function with single parameter
parse 'fn double($x) { $x * 2 }'
---
> Program
> `-- [0] Def(double($x))
>     `-- [0] Expression
>         `-- Binary(Mul)
>             +-- left: Variable($x)
>             `-- right: Integer(2)
>

# Test function with multiple statements
parse 'fn complex($a, $b) { let $sum = $a + $b; return $sum * 2 }'
---
> Program
> `-- [0] Def(complex($a, $b))
>     +-- [0] Let($sum)
>     |   `-- Binary(Add)
>     |       +-- left: Variable($a)
>     |       `-- right: Variable($b)
>     `-- [1] Return
>         `-- Binary(Mul)
>             +-- left: Variable($sum)
>             `-- right: Integer(2)
>

# Test function with return
parse 'fn max($a, $b) { if $a > $b { return $a } else { return $b } }'
---
> Program
> `-- [0] Def(max($a, $b))
>     `-- [0] If
>         +-- condition:
>         |   `-- Binary(Gt)
>         |       +-- left: Variable($a)
>         |       `-- right: Variable($b)
>         +-- then:
>         |   `-- [0] Return
>         |       `-- Variable($a)
>         `-- else:
>             `-- [0] Return
>                 `-- Variable($b)
>
