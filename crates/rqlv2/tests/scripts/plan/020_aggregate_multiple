# SPDX-License-Identifier: AGPL-3.0-or-later
# Copyright (c) 2025 ReifyDB

# Test multiple aggregates
plan 'from test.orders | aggregate { total: sum(amount), cnt: count(id) } by { user_id }'
---
AGGREGATE
  group_by: [user_id]
  aggregations: [sum(amount) AS total, count(id) AS cnt]
schema:
    user_id: Any
    total: Any
    cnt: Any
  SCAN test.orders
  schema:
      id: Int8
      user_id: Int8
      amount: Float8
